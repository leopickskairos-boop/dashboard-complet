# ğŸ”§ Objectif
Corriger le problÃ¨me â€œAccÃ¨s Ã  localhost refusÃ©â€ lors de la rÃ©initialisation du mot de passe.

## ğŸ’¡ Cause du bug
Le lien de rÃ©initialisation envoyÃ© par e-mail pointe actuellement vers :
```
http://localhost:3000/reset-password?token=XYZ
```
Ce lien ne fonctionne quâ€™en local.  
Quand on clique dessus depuis un vrai e-mail, il tente dâ€™ouvrir â€œlocalhostâ€ sur notre propre ordinateur â†’ erreur.

---

## âœ… Solution
Remplacer lâ€™URL â€œlocalhostâ€ par **lâ€™URL publique de ton app Replit** (celle visible quand tu exÃ©cutes ton projet).

### Exemple dâ€™URL publique Replit :
```
https://speedai-auth.leo.repl.co
```

---

## ğŸ§± Ã‰tapes Ã  suivre

### 1ï¸âƒ£ Ouvre ton fichier backend qui gÃ©nÃ¨re le lien de rÃ©initialisation
(ex : `authController.js`, `resetController.js`, ou `email.js` selon ton app)

Cherche une ligne ressemblant Ã  ceci :
```js
const resetUrl = `http://localhost:3000/reset-password?token=${token}`;
```

---

### 2ï¸âƒ£ Remplace-la par ce code dynamique :
```js
const resetUrl = `${process.env.APP_URL}/reset-password?token=${token}`;
```

---

### 3ï¸âƒ£ Ajoute ta vraie URL Replit dans les Secrets
Va dans **ğŸ”’ Secrets (Replit)** et ajoute :
```
APP_URL=https://speedai-auth.leo.repl.co
```

âš ï¸ Remplace `speedai-auth.leo.repl.co` par **lâ€™URL exacte de ton projet Replit**.

---

### 4ï¸âƒ£ RedÃ©ploie ton app
- Clique sur â–¶ï¸ â€œRunâ€ dans Replit  
- Puis fais un test : clique sur â€œMot de passe oubliÃ©â€ â†’ reÃ§ois le mail â†’ clique sur le lien  
â¡ï¸ Il doit maintenant tâ€™ouvrir la vraie page â€œRÃ©initialiser mon mot de passeâ€.

---

## ğŸ§© (Optionnel) Si tu veux vÃ©rifier ta route cÃ´tÃ© serveur
Assure-toi dâ€™avoir une route `/reset-password` fonctionnelle, par exemple :

```js
app.get("/reset-password", (req, res) => {
  const token = req.query.token;
  if (!token) return res.status(400).send("Token manquant");
  // Ici tu vÃ©rifies le token et affiches le formulaire de nouveau mot de passe
  res.send(`<h2>RÃ©initialisation du mot de passe</h2>`);
});
```

---

## âœ… RÃ©sumÃ©
| Ã‰tape | Action |
|-------|---------|
| ğŸ”‘ 1 | Modifier `localhost` â†’ `${process.env.APP_URL}` |
| âš™ï¸ 2 | Ajouter `APP_URL` dans les secrets Replit |
| ğŸš€ 3 | Relancer et tester le lien du mail |
| ğŸ¯ 4 | RÃ©sultat : le lien ouvre la vraie page en ligne |

---

ğŸ§  **RÃ©sultat attendu :**
Le mail contient dÃ©sormais un lien du type :
```
https://speedai-auth.leo.repl.co/reset-password?token=XYZ
```
Et la rÃ©initialisation de mot de passe fonctionne parfaitement depuis le mail reÃ§u âœ…
