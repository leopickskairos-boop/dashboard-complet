# ğŸ¯ Objectif
Je veux que tu testes le bon fonctionnement du **paiement automatique Stripe** aprÃ¨s la fin du compte Ã  rebours de 30 jours,  
sans rien modifier au code.  
Tous les plans et Price ID Stripe sont **dÃ©jÃ  intÃ©grÃ©s** dans le projet.

---

## ğŸ” Contexte
- Les 3 plans Stripe sont dÃ©jÃ  configurÃ©s dans le code :
  - 400 â‚¬ â†’ `price_1SRfP3442ACh1eI8PFt5z2b4`
  - 800 â‚¬ â†’ `price_1SRfP8442ACh1eI8N9VwLD93`
  - 1000 â‚¬ â†’ `price_1SRfPE442ACh1eI8pzFhIJLH`
- Lorsquâ€™un utilisateur sâ€™inscrit :
  - Aucun paiement immÃ©diat nâ€™est demandÃ©.
  - Un **compte Ã  rebours de 30 jours** dÃ©marre automatiquement.
  - Ã€ la fin du compte Ã  rebours :
    - Le systÃ¨me doit **dÃ©clencher automatiquement le paiement Stripe** selon le plan associÃ©.
    - Si le paiement rÃ©ussit â†’ lâ€™utilisateur garde lâ€™accÃ¨s.
    - Si le paiement Ã©choue â†’ le compte devient inactif.

---

## ğŸ§ª Ce que tu dois tester
â¡ï¸ Test fonctionnel uniquement.  
Aucune modification du code, aucun ajout de champ ni de plan.  
Juste **vÃ©rifier que tout fonctionne correctement** avec les Ã©lÃ©ments dÃ©jÃ  en place.

1ï¸âƒ£ **Simulation de fin de pÃ©riode**
   - Simule un utilisateur dont la pÃ©riode gratuite de 30 jours est Ã©coulÃ©e.
   - VÃ©rifie que le dÃ©clenchement automatique du paiement se fait bien.

2ï¸âƒ£ **Test des trois plans**
   - 400 â‚¬, 800 â‚¬, et 1000 â‚¬ dÃ©jÃ  configurÃ©s dans le code.
   - Teste les trois paiements en **mode test Stripe** :
     - `4242 4242 4242 4242` â†’ paiement rÃ©ussi.
     - `4000 0000 0000 9995` â†’ paiement Ã©chouÃ©.
   - VÃ©rifie :
     - que le checkout Stripe sâ€™ouvre bien,
     - que le paiement se valide correctement,
     - que les statuts utilisateur changent.

3ï¸âƒ£ **ContrÃ´le en base de donnÃ©es**
   - AprÃ¨s un paiement rÃ©ussi :
     - `subscription_status` â†’ `active`
     - `plan_price_id` â†’ correspond au bon plan Stripe
   - AprÃ¨s un paiement Ã©chouÃ© :
     - `subscription_status` â†’ `inactive`
     - Lâ€™accÃ¨s au dashboard doit Ãªtre bloquÃ©.

4ï¸âƒ£ **VÃ©rification des webhooks Stripe**
   - Teste les Ã©vÃ©nements dÃ©jÃ  configurÃ©s :
     - `checkout.session.completed`
     - `invoice.payment_succeeded`
     - `invoice.payment_failed`
   - Confirme que le backend met bien Ã  jour le statut utilisateur aprÃ¨s rÃ©ception du webhook.

---

## âœ… RÃ©sultat attendu
- Le paiement se dÃ©clenche **automatiquement au jour 30** pour lâ€™utilisateur simulÃ©.  
- Les 3 plans (400 â‚¬, 800 â‚¬, 1000 â‚¬) fonctionnent correctement.  
- Les statuts des utilisateurs se mettent Ã  jour selon le rÃ©sultat du paiement.  
- Aucun code nâ€™est modifiÃ© : câ€™est uniquement un **test de bon fonctionnement**.

---

## âš™ï¸ Rappel important
- Tous les Price ID sont dÃ©jÃ  intÃ©grÃ©s â€” **ne rien crÃ©er, ne rien ajouter**.  
- Ce test doit uniquement confirmer que la logique automatique fonctionne comme prÃ©vu,  
  du dÃ©clenchement du paiement Ã  la mise Ã  jour de lâ€™abonnement.
